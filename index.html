<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TRICKSTER ‚Äî Waffenrechner</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700&display=swap');

:root {
  --bg: #0b0a12;
  --purple: #2a0051;
  --purple-mid: #3a0a6f;
  --purple-bright: #4a1587;
  --purple-glow: rgba(42,0,81,0.6);
  --accent: #2a0051;
  --accent2: rgba(42,0,81,0.6);
  --text: #ffffff;
  --text-dim: rgba(255,255,255,0.7);
  --border: rgba(255,255,255,0.15);
  --steel: #c8d4e2;
  --iron: #d8c9b8;
  --komponente: #e5d7a7;
  --bauplan: #a8c6e5;
  --card-bg: rgba(42,0,81,0.18);
}

* { margin:0; padding:0; box-sizing:border-box; }

html { scroll-behavior: smooth; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: 'Montserrat', sans-serif;
  overflow-x: hidden;
}

/* Animated background */
body::before {
  content:'';
  position:fixed;
  inset:0;
  background: rgba(10,10,20,0.85);
  pointer-events:none;
  z-index:0;
}

/* Scanlines */
body::after {
  content:'';
  position:fixed;
  inset:0;
  background-image: url('logo.png');
  background-size: 70%;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0.03;
  pointer-events:none;
  z-index:0;
}

@keyframes scanAnim {
  0% { background-position: 0 0; }
  100% { background-position: 0 100px; }
}

/* Noise texture */
.noise {
  position:fixed;
  inset:0;
  opacity:0.02;
  pointer-events:none;
  z-index:1;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
}

/* Header */
header {
  position: relative;
  z-index:10;
  text-align:center;
  padding: 40px 20px 20px;
}

.logo-area {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 18px;
  margin-bottom: 15px;
  background: rgba(42,0,81,0.9);
  padding: 14px 22px;
  border-radius: 14px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  border: 1px solid rgba(255,255,255,0.2);
  backdrop-filter: none;
}

.logo-placeholder {
  width: 70px; height: 70px;
  border: 2px solid rgba(255,255,255,0.4);
  border-radius: 50%;
  display: flex; align-items:center; justify-content:center;
  font-size: 28px;
  box-shadow: 0 0 20px rgba(255,255,255,0.35);
  position: relative;
  overflow: hidden;
}

.logo-placeholder::before {
  content:'';
  position:absolute;
  inset:-50%;
  background: conic-gradient(transparent 0deg, rgba(154,48,255,0.3) 60deg, transparent 120deg);
  animation: rotateLogo 4s linear infinite;
}

@keyframes rotateLogo { to { transform: rotate(360deg); } }
@keyframes logoPulse {
  0%,100% { box-shadow: 0 0 20px var(--purple-bright), inset 0 0 20px rgba(106,0,200,0.3); }
  50% { box-shadow: 0 0 40px var(--purple-glow), 0 0 80px rgba(106,0,200,0.4), inset 0 0 30px rgba(154,48,255,0.4); }
}

.logo-img {
  width: 70px; height: 70px;
  border-radius: 50%;
  border: 2px solid rgba(255,255,255,0.4);
  box-shadow: 0 0 20px rgba(255,255,255,0.35);
  object-fit: cover;
}

h1 {
  font-family: 'Orbitron', sans-serif;
  font-size: clamp(26px, 5vw, 54px);
  font-weight: 700;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--text);
  text-shadow: 0 2px 10px rgba(0,0,0,0.3);
  position: relative;
}

.subtitle {
  font-family: 'Montserrat', sans-serif;
  color: var(--text-dim);
  font-size: 12px;
  letter-spacing: 0.35em;
  margin-top: 8px;
  text-transform: uppercase;
}

.glitch {
  position: relative;
  display: inline-block;
}
.glitch::before, .glitch::after {
  content: attr(data-text);
  position: absolute;
  top: 0; left: 0;
  background: linear-gradient(135deg, #fff 0%, var(--purple-glow) 40%, var(--accent) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.glitch::before {
  animation: glitch1 4s infinite;
  clip-path: polygon(0 0, 100% 0, 100% 35%, 0 35%);
  transform: translate(-2px, -2px);
}
.glitch::after {
  animation: glitch2 4s infinite;
  clip-path: polygon(0 65%, 100% 65%, 100% 100%, 0 100%);
  transform: translate(2px, 2px);
}
@keyframes glitch1 {
  0%,90%,100% { transform: translate(-2px,-2px); opacity:0; }
  92% { transform: translate(-4px,-2px); opacity:0.8; }
  94% { transform: translate(2px,2px); opacity:0.6; }
  96% { transform: translate(-2px,-2px); opacity:0; }
}
@keyframes glitch2 {
  0%,88%,100% { transform: translate(2px,2px); opacity:0; }
  90% { transform: translate(4px,2px); opacity:0.7; }
  92% { transform: translate(-2px,4px); opacity:0.5; }
  94% { transform: translate(2px,2px); opacity:0; }
}

/* Warning bar */
.warning-bar {
  background: rgba(42,0,81,0.35);
  border-top: 1px solid rgba(255,255,255,0.2);
  border-bottom: 1px solid rgba(255,255,255,0.2);
  padding: 8px;
  text-align:center;
  font-size: 11px;
  letter-spacing: 0.3em;
  color: rgba(255,255,255,0.8);
  position: relative;
  z-index:10;
  overflow: hidden;
}
.warning-bar span {
  display: inline-block;
  animation: marquee 20s linear infinite;
}
@keyframes marquee {
  from { transform: translateX(100vw); }
  to { transform: translateX(-100%); }
}

/* Main layout */
main {
  position: relative;
  z-index:5;
  max-width: 1400px;
  margin: 0 auto;
  padding: 40px 20px;
}

/* Section headers */
.section-title {
  font-family: 'Orbitron', sans-serif;
  font-size: 20px;
  letter-spacing: 0.2em;
  color: var(--text);
  text-transform: uppercase;
  margin: 30px 0 20px;
  text-align: center;
  text-shadow: 0 2px 10px rgba(0,0,0,0.3);
}
.section-title.small {
  font-size: 14px;
  letter-spacing: 0.25em;
  margin-top: 10px;
}
.section-title::before, .section-title::after {
  display: none;
}

/* Weapons grid */
.weapons-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 30px;
  margin-bottom: 60px;
}

.weapon-card {
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 30px;
  cursor: pointer;
  transition: all 0.4s ease;
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  text-align:center;
  backdrop-filter: none;
  box-shadow: 0 15px 35px rgba(0,0,0,0.2);
}

.weapon-card::before {
  content:'';
  position:absolute;
  inset:0;
  background: radial-gradient(circle at center, rgba(255,255,255,0.1) 0%, transparent 70%);
  opacity:0;
  transition: opacity 0.4s;
}

.weapon-card::after {
  content:'';
  position:absolute;
  top:0; left:0;
  width:100%; height:5px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent);
  transform: translateX(-100%);
  transition: transform 0.6s;
}

.weapon-card:hover::before { opacity:1; }
.weapon-card:hover::after { transform: translateX(100%); }

.weapon-card:hover {
  border-color: rgba(255,255,255,0.4);
  box-shadow: 0 25px 50px rgba(0,0,0,0.3);
  transform: translateY(-12px) scale(1.02);
}

.weapon-card.selected {
  border-color: rgba(255,255,255,0.6);
  background: rgba(255,255,255,0.18);
  box-shadow: 0 20px 40px rgba(255,255,255,0.2);
}

.weapon-card.selected::before { opacity:1; }

/* Corner decorations */
.weapon-card .corner {
  display: none;
}

.weapon-icon {
  width: 120px; height: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.weapon-icon img {
  width: 100%; height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 8px 15px rgba(0,0,0,0.3));
  transition: transform 0.4s ease, filter 0.4s ease;
}

.weapon-card:hover .weapon-icon img,
.weapon-card.selected .weapon-icon img {
  filter: drop-shadow(0 0 15px rgba(255,255,255,0.4));
  transform: scale(1.12);
}

/* SVG weapon icons */
.weapon-svg {
  width: 80px; height: 55px;
  fill: none;
  filter: drop-shadow(0 0 6px rgba(154,48,255,0.7));
  transition: filter 0.3s;
}
.weapon-card:hover .weapon-svg,
.weapon-card.selected .weapon-svg {
  filter: drop-shadow(0 0 12px var(--purple-glow)) brightness(1.3);
}

.weapon-name {
  font-family: 'Orbitron', sans-serif;
  font-size: 18px;
  letter-spacing: 0.1em;
  color: var(--text);
  text-transform: uppercase;
  line-height: 1.3;
  font-weight: 600;
  text-shadow: 0 2px 8px rgba(0,0,0,0.25);
}

.weapon-type-badge {
  font-size: 10px;
  padding: 6px 14px;
  border-radius: 12px;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  font-weight: 600;
  background: rgba(42,0,81,0.45);
  border: 1px solid rgba(255,255,255,0.3);
  color: rgba(255,255,255,0.9);
}

.price-tag {
  background: rgba(42,0,81,0.45);
  padding: 10px 18px;
  border-radius: 12px;
  display: inline-block;
  border: 1px solid rgba(255,255,255,0.3);
  box-shadow: 0 5px 15px rgba(255,255,255,0.1);
  backdrop-filter: none;
}
.card-price {
  font-family: 'Orbitron', sans-serif;
  font-size: 16px;
  font-weight: 600;
  color: rgba(255,255,255,0.95);
  letter-spacing: 0.08em;
}
.badge-pistol,
.badge-rifle,
.badge-shotgun,
.badge-smg,
.badge-special,
.badge-ammo {
  background: rgba(42,0,81,0.45);
  border: 1px solid rgba(255,255,255,0.3);
  color: rgba(255,255,255,0.9);
}

/* Calculator panel */
.calc-panel {
  display: none;
  background: rgba(42,0,81,0.25);
  border: 1px solid rgba(255,255,255,0.25);
  border-radius: 20px;
  padding: 35px;
  margin-bottom: 50px;
  position: relative;
  animation: panelIn 0.3s ease;
  backdrop-filter: none;
  box-shadow: 0 15px 35px rgba(0,0,0,0.2);
}

.calc-panel.active { display: block; }

@keyframes panelIn {
  from { opacity:0; transform: translateY(-10px); }
  to { opacity:1; transform: translateY(0); }
}

.calc-panel::before {
  content:'';
  position:absolute;
  top:0; left:0; right:0;
  height:2px;
  background: linear-gradient(90deg, transparent, var(--purple-glow), var(--accent), var(--purple-glow), transparent);
  animation: borderAnim 3s linear infinite;
  background-size: 200% 100%;
}

@keyframes borderAnim {
  0% { background-position: -100% 0; }
  100% { background-position: 200% 0; }
}

.calc-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 25px;
  flex-wrap: wrap;
  gap: 15px;
}

.selected-weapon-name {
  font-family: 'Orbitron', sans-serif;
  font-size: 22px;
  font-weight: 600;
  color: #fff;
  text-shadow: 0 2px 8px rgba(0,0,0,0.3);
}

.quantity-control {
  display: flex;
  align-items: center;
  gap: 12px;
}

.qty-label {
  font-size: 11px;
  letter-spacing: 0.3em;
  color: var(--text-dim);
  text-transform: uppercase;
}

.qty-btn {
  width: 38px; height: 38px;
  background: rgba(42,0,81,0.7);
  border: 1px solid rgba(255,255,255,0.35);
  color: #fff;
  font-size: 20px;
  cursor: pointer;
  display: flex; align-items:center; justify-content:center;
  transition: all 0.2s;
  font-family: 'Orbitron', sans-serif;
}
.qty-btn:hover {
  background: rgba(255,255,255,0.2);
  border-color: rgba(255,255,255,0.6);
  box-shadow: 0 8px 20px rgba(255,255,255,0.2);
}

.qty-input {
  width: 80px;
  background: rgba(42,0,81,0.45);
  border: 1px solid rgba(255,255,255,0.3);
  color: #fff;
  font-family: 'Orbitron', sans-serif;
  font-size: 18px;
  text-align:center;
  padding: 8px;
  outline: none;
  border-radius: 8px;
  transition: border-color 0.2s;
}
.qty-input:focus {
  border-color: rgba(255,255,255,0.6);
  box-shadow: 0 8px 20px rgba(255,255,255,0.2);
}

/* Resources breakdown */
.resources-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
  margin-bottom: 25px;
}

.resource-row {
  display: flex;
  align-items: center;
  gap: 12px;
  background: rgba(42,0,81,0.3);
  border: 1px solid rgba(255,255,255,0.25);
  border-radius: 12px;
  padding: 14px 16px;
  transition: all 0.2s;
}
.resource-row:hover {
  border-color: rgba(255,255,255,0.4);
  background: rgba(42,0,81,0.4);
}

.resource-icon {
  width: 32px; height: 32px;
  border-radius: 3px;
  display: flex; align-items:center; justify-content:center;
  font-size: 14px;
  flex-shrink: 0;
}
.icon-steel { background: rgba(136,153,170,0.2); border: 1px solid rgba(136,153,170,0.4); color: var(--steel); }
.icon-iron { background: rgba(119,85,68,0.2); border: 1px solid rgba(119,85,68,0.4); color: var(--iron); }
.icon-komponente { background: rgba(170,102,0,0.2); border: 1px solid rgba(170,102,0,0.4); color: var(--komponente); }
.icon-bauplan { background: rgba(0,102,170,0.2); border: 1px solid rgba(0,102,170,0.4); color: #5af; }
.icon-other { background: rgba(42,0,81,0.4); border: 1px solid var(--border); color: var(--text); }
.icon-powder { background: rgba(80,0,0,0.3); border: 1px solid rgba(200,0,0,0.3); color: #f84; }
.icon-coal { background: rgba(30,30,30,0.5); border: 1px solid rgba(80,80,80,0.4); color: #aaa; }
.icon-sulfur { background: rgba(100,100,0,0.3); border: 1px solid rgba(200,200,0,0.3); color: #ff0; }

.resource-info { flex:1; }
.resource-name {
  font-size: 10px;
  letter-spacing: 0.2em;
  color: var(--text-dim);
  text-transform: uppercase;
}
.resource-amount {
  font-family: 'Orbitron', monospace;
  font-size: 18px;
  font-weight: 700;
  color: rgba(255, 255, 255, 0.85);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  transition: all 0.3s;
}

/* Divider */
.calc-divider {
  border: none;
  border-top: 1px solid rgba(61,0,117,0.4);
  margin: 20px 0;
}

/* Price display */
.price-section {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(42,0,81,0.45);
  border: 1px solid rgba(255,255,255,0.3);
  border-radius: 14px;
  padding: 22px 26px;
  flex-wrap: wrap;
  gap: 15px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.2);
}

.price-label {
  font-size: 11px;
  letter-spacing: 0.4em;
  color: var(--text-dim);
  text-transform: uppercase;
}

.price-amount {
  font-family: 'Orbitron', sans-serif;
  font-size: 32px;
  font-weight: 700;
  color: #fff;
  text-shadow: 0 2px 10px rgba(0,0,0,0.25);
}

@keyframes priceGlow {
  0%,100% { text-shadow: 0 0 20px var(--purple-glow), 0 0 40px rgba(106,0,200,0.5); }
  50% { text-shadow: 0 0 30px var(--purple-glow), 0 0 60px rgba(106,0,200,0.7), 0 0 80px rgba(154,48,255,0.3); }
}

.price-currency {
  font-size: 14px;
  color: var(--text-dim);
  margin-right: 5px;
}

/* Raw materials breakdown */
.raw-materials-section {
  margin-top: 20px;
}

.raw-title {
  font-size: 10px;
  letter-spacing: 0.4em;
  color: var(--text-dim);
  text-transform: uppercase;
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 10px;
}
.raw-title::after {
  content:'';
  flex:1;
  height:1px;
  background: rgba(61,0,117,0.5);
}

.raw-grid {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.raw-pill {
  background: rgba(42,0,81,0.5);
  border: 1px solid rgba(61,0,117,0.6);
  border-radius: 3px;
  padding: 6px 12px;
  font-size: 11px;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.2s;
}
.raw-pill:hover {
  border-color: var(--purple-mid);
  background: rgba(61,0,117,0.4);
}

.raw-pill .pill-amount {
  font-family: 'Orbitron', monospace;
  font-size: 13px;
  font-weight: 700;
  color: rgba(255, 255, 255, 0.85);
}

/* Prices for items */
.item-prices {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 8px;
}
.item-price-tag {
  font-size: 10px;
  color: var(--text-dim);
}

/* Footer */
footer {
  position:relative;
  z-index:10;
  text-align:center;
  padding: 30px;
  margin-top: 50px;
  background: rgba(42,0,81,0.9);
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
  color: var(--text);
  font-size: 12px;
  letter-spacing: 0.2em;
  border: 1px solid rgba(255,255,255,0.25);
  backdrop-filter: none;
}

/* Floating particles */
.particles {
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:2;
  overflow:hidden;
}

.particle {
  position:absolute;
  width:2px; height:2px;
  background: var(--purple-glow);
  border-radius:50%;
  animation: floatUp linear infinite;
  opacity:0;
}

@keyframes floatUp {
  0% { transform: translateY(100vh) translateX(0); opacity:0; }
  10% { opacity:0.8; }
  90% { opacity:0.3; }
  100% { transform: translateY(-10vh) translateX(calc(var(--drift)*40px)); opacity:0; }
}

/* Ammo section */
.ammo-section {
  margin-top: 10px;
}

/* Background members */
.bg-members {
  position: fixed;
  inset: 0;
  z-index: 3;
  pointer-events: none;
}
.bg-member {
  position: absolute;
  top: 18%;
  width: 300px;
  max-width: 35vw;
  opacity: 0.22;
  filter: blur(0.4px) grayscale(30%);
  mix-blend-mode: screen;
  animation: hauntSlide 18s ease-in-out infinite;
}
.bg-member.right {
  top: 48%;
  right: -35%;
}
.bg-member.left {
  left: -35%;
}
.bg-member.member-1 { animation-delay: 0s; }
.bg-member.member-2 { animation-delay: 6s; }
.bg-member.member-3 { animation-delay: 12s; }
.haunt-tagline-bg {
  position: fixed;
  left: 50%;
  bottom: 16px;
  transform: translateX(-50%);
  z-index: 1;
  font-size: 11px;
  letter-spacing: 0.35em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.5);
  text-shadow: 0 0 10px rgba(154,48,255,0.2);
  pointer-events: none;
}
@keyframes hauntSlide {
  0% { opacity: 0; transform: translateX(0) translateY(0) scale(1); }
  10% { opacity: 0.22; }
  30% { opacity: 0.22; }
  50% { opacity: 0; transform: translateX(0) translateY(-8px) scale(1.02); }
  100% { opacity: 0; transform: translateX(0) translateY(0) scale(1); }
}
.bg-member.left {
  animation-name: hauntSlideLeft;
}
.bg-member.right {
  animation-name: hauntSlideRight;
}
@keyframes hauntSlideLeft {
  0% { opacity: 0; transform: translateX(-20%) translateY(0) scale(1); }
  10% { opacity: 0.22; transform: translateX(12%) translateY(0) scale(1); }
  30% { opacity: 0.22; transform: translateX(18%) translateY(-6px) scale(1.02); }
  50% { opacity: 0; transform: translateX(24%) translateY(-10px) scale(1.02); }
  100% { opacity: 0; transform: translateX(-20%) translateY(0) scale(1); }
}
@keyframes hauntSlideRight {
  0% { opacity: 0; transform: translateX(20%) translateY(0) scale(1); }
  10% { opacity: 0.22; transform: translateX(-12%) translateY(0) scale(1); }
  30% { opacity: 0.22; transform: translateX(-18%) translateY(-6px) scale(1.02); }
  50% { opacity: 0; transform: translateX(-24%) translateY(-10px) scale(1.02); }
  100% { opacity: 0; transform: translateX(20%) translateY(0) scale(1); }
}


/* Responsive */
@media (max-width:600px) {
  .weapons-grid { grid-template-columns: repeat(2, 1fr); }
  .calc-header { flex-direction: column; align-items:flex-start; }
  .price-amount { font-size: 24px; }
}

/* Flicker animation */
@keyframes flicker {
  0%,100% { opacity:1; }
  92% { opacity:1; }
  93% { opacity:0.4; }
  94% { opacity:1; }
  96% { opacity:0.7; }
  97% { opacity:1; }
}

.flicker { animation: flicker 6s ease-in-out infinite; }
</style>
</head>
<body>

<div class="noise"></div>

<!-- Floating particles -->
<div class="particles" id="particles"></div>

<div class="bg-members">
  <img src="user1.png" alt="user1" class="bg-member left member-1">
  <img src="user2.png" alt="user2" class="bg-member right member-2">
  <img src="user3.png" alt="user3" class="bg-member left member-3" style="top: 68%; width: 260px;">
</div>

<div class="haunt-tagline-bg">Kein Respekt, keine Gnade</div>


<div class="warning-bar">
  <span>‚ö† ZUGANG NUR F√úR FRAKTIONSMITGLIEDER ‚ö† ‚Äî ALLE TRANSAKTIONEN WERDEN PROTOKOLLIERT ‚Äî KEIN SUPPORT BEI EXTERNEN WEITERGABEN ‚Äî TRICKSTER INTERNUM v2.4.1 ‚Äî ‚ö† ZUGANG NUR F√úR FRAKTIONSMITGLIEDER ‚ö†</span>
</div>

<header>
  <div class="logo-area">
    <div class="logo-placeholder" id="logoContainer">
      <img src="logo.png" alt="Trickster" class="logo-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
      <span style="display:none; position:relative; z-index:1; font-size:24px;">üÉè</span>
    </div>
    <div>
      <h1><span class="glitch flicker" data-text="TRICKSTER">TRICKSTER</span></h1>
      <div class="subtitle">// Waffenrechner & Beschaffungsmodul //</div>
    </div>
  </div>
</header>

<main>

  <!-- WEAPONS -->
  <div class="section-title">Waffen ausw√§hlen</div>

  <div class="weapons-grid" id="weaponsGrid">
    <!-- Cards injected by JS -->
  </div>

  <!-- CALCULATOR PANEL -->
  <div class="calc-panel" id="calcPanel">
    <div class="calc-header">
      <div>
        <div style="font-size:10px;letter-spacing:.4em;color:var(--text-dim);text-transform:uppercase;margin-bottom:5px">// AUSGEW√ÑHLT</div>
        <div class="selected-weapon-name" id="selectedWeaponName">‚Äî</div>
      </div>
      <div class="quantity-control">
        <span class="qty-label">Anzahl:</span>
        <button class="qty-btn" onclick="changeQty(-1)">‚àí</button>
        <input type="number" class="qty-input" id="qtyInput" value="1" min="1" max="999" oninput="updateCalc()">
        <button class="qty-btn" onclick="changeQty(1)">+</button>
      </div>
    </div>

    <div class="section-title small">Direkte Materialien</div>
    <div class="resources-grid" id="directMaterials"></div>

    <hr class="calc-divider">

    <div class="raw-materials-section">
      <div class="raw-title">Rohmaterialien gesamt (aufgel√∂st)</div>
      <div class="raw-grid" id="rawMaterials"></div>
    </div>

    <hr class="calc-divider">

    <div class="price-section">
      <div>
        <div class="price-label">Gesamtpreis</div>
        <div class="price-amount"><span class="price-currency">$</span><span id="totalPrice">0</span></div>
      </div>
      <div style="text-align:right">
        <div class="price-label">Pro St√ºck</div>
        <div style="font-family:'Orbitron',monospace;font-size:18px;color:var(--text);margin-top:5px">
          <span class="price-currency">$</span><span id="unitPrice">0</span>
        </div>
      </div>
    </div>

  </div>

  <!-- AMMO SECTION -->
  <div class="section-title" style="margin-top:30px">Munition</div>
  <div class="weapons-grid" id="ammoGrid"></div>

  <!-- AMMO CALC PANEL -->
  <div class="calc-panel" id="ammoCalcPanel">
    <div class="calc-header">
      <div>
        <div style="font-size:10px;letter-spacing:.4em;color:var(--text-dim);text-transform:uppercase;margin-bottom:5px">// MUNITION AUSGEW√ÑHLT</div>
        <div class="selected-weapon-name" id="selectedAmmoName">‚Äî</div>
      </div>
      <div class="quantity-control">
        <span class="qty-label">Anzahl:</span>
        <button class="qty-btn" onclick="changeAmmoQty(-1)">‚àí</button>
        <input type="number" class="qty-input" id="ammoQtyInput" value="1" min="1" max="9999" oninput="updateAmmoCalc()">
        <button class="qty-btn" onclick="changeAmmoQty(1)">+</button>
      </div>
    </div>
    <div class="resources-grid" id="ammoMaterials"></div>
    <hr class="calc-divider">
    <div class="price-section">
      <div>
        <div class="price-label">Gesamtpreis</div>
        <div class="price-amount"><span class="price-currency">$</span><span id="ammoTotalPrice">0</span></div>
      </div>
      <div style="text-align:right">
        <div class="price-label">Pro St√ºck</div>
        <div style="font-family:'Orbitron',monospace;font-size:18px;color:var(--text);margin-top:5px">
          <span class="price-currency">$</span><span id="ammoUnitPrice">0</span>
        </div>
      </div>
    </div>
  </div>

</main>

<audio id="bgSound" autoplay loop preload="auto">
  <source src="sound.mp3" type="audio/mpeg">
</audio>

<footer>
  TRICKSTER FACTION INTERNAL ‚Äî SERVER: FIVEM ‚Äî BUILD 2.4.1 ‚Äî ALL RIGHTS RESERVED
</footer>

<script>
// =============================================
// DATA
// =============================================

// Prices per item
const PRICES = {
  steel: 150,
  iron_ingot: 300,
  waffen_komponente: 500,
  waffen_lauf: 1200,
  waffen_abzug: 900,
  waffen_magazin: 1500,
  bauplan: 5000,
  gunpowder: 200,
  coal: 50,
  red_sulfur: 100,
  empty_glass_bottle: 150,
  lighter: 100,
};

// Recipes for intermediate parts
const PART_RECIPES = {
  waffen_lauf:       { steel: 5, waffen_komponente: 2 },
  waffen_abzug:      { waffen_komponente: 1, steel: 10 },
  waffen_komponente: { steel: 10, iron_ingot: 1 },
  waffen_magazin:    { waffen_komponente: 2, iron_ingot: 1 },
};

// Weapons data
const WEAPONS = [
  {
    id: 'weapon_pistol',
    name: 'Pistole',
    badge: 'pistol',
    badgeText: 'Pistol',
    icon: 'WEAPON_PISTOL',
    recipe: {
      waffen_magazin: 2,
      waffen_lauf: 1,
      waffen_abzug: 2,
      waffen_komponente: 2,
    },
    unitPrice: 10000,
  },
  {
    id: 'weapon_heavypistol',
    name: 'Heavy Pistole',
    badge: 'pistol',
    badgeText: 'Pistol',
    icon: 'WEAPON_HEAVYPISTOL',
    recipe: {
      waffen_magazin: 2,
      waffen_lauf: 1,
      waffen_abzug: 3,
      waffen_komponente: 3,
    },
    unitPrice: 15000,
  },
  {
    id: 'weapon_sawnoffshotgun',
    name: 'Schrotflinte',
    badge: 'shotgun',
    badgeText: 'Shotgun',
    icon: 'WEAPON_SAWNOFFSHOTGUN',
    recipe: {
      shotgun_bauplan: 1,
      waffen_magazin: 4,
      waffen_lauf: 2,
      waffen_abzug: 4,
      waffen_komponente: 7,
    },
    unitPrice: 35000,
  },
  {
    id: 'weapon_assaultrifle',
    name: 'AK-47',
    badge: 'rifle',
    badgeText: 'Rifle',
    icon: 'WEAPON_ASSAULTRIFLE',
    recipe: {
      ak_bauplan: 1,
      waffen_magazin: 3,
      waffen_lauf: 3,
      waffen_abzug: 3,
      waffen_komponente: 4,
    },
    unitPrice: 40000,
  },
  {
    id: 'weapon_assaultrifle_mk2',
    name: 'AK-47 Mk2',
    badge: 'rifle',
    badgeText: 'Rifle MK2',
    icon: 'WEAPON_ASSAULTRIFLE_MK2',
    recipe: {
      akmk2_bauplan: 1,
      waffen_magazin: 6,
      waffen_lauf: 5,
      waffen_abzug: 4,
      waffen_komponente: 6,
    },
    unitPrice: 50000,
  },
  {
    id: 'weapon_minismg',
    name: 'Mini SMG',
    badge: 'smg',
    badgeText: 'SMG',
    icon: 'WEAPON_MINISMG',
    recipe: {
      minismg_bauplan: 1,
      waffen_magazin: 3,
      waffen_lauf: 2,
      waffen_abzug: 4,
      waffen_komponente: 4,
    },
    unitPrice: 35000,
  },
  {
    id: 'weapon_gusenberg',
    name: 'Gusenberg',
    badge: 'smg',
    badgeText: 'SMG',
    icon: 'WEAPON_GUSENBERG',
    recipe: {
      gusenberg_bauplan: 1,
      waffen_magazin: 5,
      waffen_lauf: 3,
      waffen_abzug: 4,
      waffen_komponente: 6,
    },
    unitPrice: 20000,
  },
  {
    id: 'weapon_molotov',
    name: 'Molotov',
    badge: 'special',
    badgeText: 'Special',
    icon: 'WEAPON_MOLOTOV',
    recipe: {
      molotov_bauplan: 1,
      empty_glass_bottle: 1,
      gunpowder: 20,
      lighter: 1,
    },
    unitPrice: 20000,
  },
];

// Ammo data
const AMMO = [
  {
    id: 'pistol_ammo',
    name: 'Pistol Munition',
    recipe: { gunpowder: 2, steel: 3 },
    unitPrice: 1500,
  },
  {
    id: 'smg_ammo',
    name: 'SMG Munition',
    recipe: { gunpowder: 2, steel: 4 },
    unitPrice: 3500,
  },
  {
    id: 'rifle_ammo',
    name: 'Rifle Munition',
    recipe: { gunpowder: 4, steel: 6 },
    unitPrice: 5000,
  },
  {
    id: 'shotgun_ammo',
    name: 'Shotgun Munition',
    recipe: { gunpowder: 4, steel: 10 },
    unitPrice: 3000,
  },
];

// SVG icons for weapons (inline fallback)
const WEAPON_SVG = {
  weapon_pistol: `<svg class="weapon-svg" viewBox="0 0 120 60"><g stroke="#9b30ff" stroke-width="2"><path d="M10 30 L70 30 L80 20 L100 20 L100 30 L90 30 L85 45 L60 45 L55 35 L20 35 Z" fill="rgba(42,0,81,0.5)"/><rect x="40" y="38" width="20" height="15" rx="2" fill="rgba(42,0,81,0.5)"/><circle cx="100" cy="25" r="4" fill="rgba(154,48,255,0.5)"/><line x1="10" y1="30" x2="5" y2="30"/></g></svg>`,
  weapon_heavypistol: `<svg class="weapon-svg" viewBox="0 0 120 60"><g stroke="#9b30ff" stroke-width="2"><path d="M8 28 L72 28 L85 18 L108 18 L108 28 L95 28 L90 48 L58 48 L52 33 L18 33 Z" fill="rgba(42,0,81,0.5)"/><rect x="38" y="40" width="24" height="16" rx="2" fill="rgba(42,0,81,0.5)"/><circle cx="107" cy="23" r="5" fill="rgba(154,48,255,0.5)"/><line x1="8" y1="28" x2="2" y2="28"/></g></svg>`,
  weapon_sawnoffshotgun: `<svg class="weapon-svg" viewBox="0 0 120 60"><g stroke="#9b30ff" stroke-width="2"><rect x="5" y="25" width="90" height="12" rx="3" fill="rgba(42,0,81,0.5)"/><rect x="20" y="35" width="40" height="18" rx="2" fill="rgba(42,0,81,0.5)"/><rect x="5" y="22" width="85" height="5" rx="2" fill="rgba(154,48,255,0.2)"/><circle cx="95" cy="31" r="5" fill="rgba(154,48,255,0.4)"/><circle cx="85" cy="31" r="5" fill="rgba(154,48,255,0.4)"/><line x1="5" y1="29" x2="5" y2="33"/></g></svg>`,
  weapon_assaultrifle: `<svg class="weapon-svg" viewBox="0 0 120 60"><g stroke="#9b30ff" stroke-width="2"><rect x="5" y="26" width="100" height="10" rx="2" fill="rgba(42,0,81,0.5)"/><rect x="25" y="34" width="35" height="20" rx="2" fill="rgba(42,0,81,0.5)"/><rect x="85" y="20" width="20" height="16" rx="2" fill="rgba(42,0,81,0.3)"/><rect x="5" y="22" width="80" height="6" rx="1" fill="rgba(154,48,255,0.2)"/><line x1="5" y1="31" x2="2" y2="31"/><circle cx="92" cy="28" r="3" fill="rgba(154,48,255,0.5)"/></g></svg>`,
  weapon_assaultrifle_mk2: `<svg class="weapon-svg" viewBox="0 0 120 60"><g stroke="#ff6b00" stroke-width="2"><rect x="5" y="26" width="105" height="10" rx="2" fill="rgba(42,0,51,0.6)"/><rect x="22" y="34" width="38" height="20" rx="2" fill="rgba(42,0,51,0.6)"/><rect x="83" y="18" width="25" height="18" rx="2" fill="rgba(100,0,0,0.4)"/><rect x="5" y="22" width="85" height="6" rx="1" fill="rgba(255,107,0,0.2)"/><rect x="40" y="20" width="25" height="8" rx="1" fill="rgba(255,107,0,0.3)"/><line x1="5" y1="31" x2="2" y2="31"/><circle cx="93" cy="27" r="4" fill="rgba(255,107,0,0.5)"/></g></svg>`,
  weapon_microsmg: `<svg class="weapon-svg" viewBox="0 0 120 60"><g stroke="#4fff88" stroke-width="2"><rect x="10" y="24" width="75" height="14" rx="2" fill="rgba(0,42,20,0.5)"/><rect x="28" y="36" width="25" height="18" rx="2" fill="rgba(0,42,20,0.5)"/><rect x="80" y="20" width="18" height="18" rx="2" fill="rgba(0,42,20,0.4)"/><line x1="10" y1="31" x2="5" y2="31"/></g></svg>`,
  weapon_minismg: `<svg class="weapon-svg" viewBox="0 0 120 60"><g stroke="#4fff88" stroke-width="2"><rect x="8" y="24" width="80" height="14" rx="2" fill="rgba(0,42,20,0.5)"/><rect x="26" y="36" width="28" height="18" rx="2" fill="rgba(0,42,20,0.5)"/><rect x="83" y="19" width="20" height="19" rx="2" fill="rgba(0,42,20,0.4)"/><rect x="8" y="20" width="72" height="6" rx="1" fill="rgba(79,255,136,0.15)"/><line x1="8" y1="31" x2="3" y2="31"/></g></svg>`,
  weapon_gusenberg: `<svg class="weapon-svg" viewBox="0 0 120 60"><g stroke="#4fff88" stroke-width="2"><rect x="5" y="25" width="95" height="12" rx="2" fill="rgba(0,42,20,0.5)"/><rect x="22" y="35" width="38" height="18" rx="2" fill="rgba(0,42,20,0.5)"/><rect x="88" y="19" width="15" height="18" rx="2" fill="rgba(0,42,20,0.4)"/><ellipse cx="55" cy="44" rx="15" ry="8" fill="rgba(79,255,136,0.1)" stroke="rgba(79,255,136,0.5)"/><line x1="5" y1="31" x2="2" y2="31"/></g></svg>`,
  weapon_molotov: `<svg class="weapon-svg" viewBox="0 0 120 60"><g stroke="#ffc000" stroke-width="2"><ellipse cx="55" cy="38" rx="22" ry="18" fill="rgba(60,30,0,0.6)"/><rect x="50" y="16" width="10" height="22" rx="3" fill="rgba(60,30,0,0.5)"/><path d="M53 10 Q55 2 60 8 Q58 4 57 12" stroke="#ff6b00" fill="rgba(255,100,0,0.4)"/><path d="M48 12 Q50 4 55 10 Q53 6 52 14" stroke="#ff3000" fill="rgba(255,50,0,0.3)"/></g></svg>`,
};

// Item display config
const ITEM_DISPLAY = {
  steel:             { label: 'Stahl', icon: 'icon-steel', emoji: '‚öô' },
  iron_ingot:        { label: 'Eisenbarren', icon: 'icon-iron', emoji: 'üî©' },
  waffen_komponente: { label: 'Waffenkomp.', icon: 'icon-komponente', emoji: 'üîß' },
  waffen_lauf:       { label: 'Waffenlauf', icon: 'icon-other', emoji: '‚¨õ' },
  waffen_abzug:      { label: 'Waffenabzug', icon: 'icon-other', emoji: 'üîò' },
  waffen_magazin:    { label: 'Magazin', icon: 'icon-other', emoji: 'üì¶' },
  shotgun_bauplan:   { label: 'Bauplan Shotgun', icon: 'icon-bauplan', emoji: 'üìã' },
  ak_bauplan:        { label: 'Bauplan AK-47', icon: 'icon-bauplan', emoji: 'üìã' },
  akmk2_bauplan:     { label: 'Bauplan AK MK2', icon: 'icon-bauplan', emoji: 'üìã' },
  microsmg_bauplan:  { label: 'Bauplan MicroSMG', icon: 'icon-bauplan', emoji: 'üìã' },
  minismg_bauplan:   { label: 'Bauplan MiniSMG', icon: 'icon-bauplan', emoji: 'üìã' },
  gusenberg_bauplan: { label: 'Bauplan Gusenberg', icon: 'icon-bauplan', emoji: 'üìã' },
  molotov_bauplan:   { label: 'Bauplan Molotov', icon: 'icon-bauplan', emoji: 'üìã' },
  gunpowder:         { label: 'Schie√üpulver', icon: 'icon-powder', emoji: 'üí•' },
  empty_glass_bottle:{ label: 'Glasflasche', icon: 'icon-other', emoji: 'üçæ' },
  lighter:           { label: 'Feuerzeug', icon: 'icon-other', emoji: 'üî•' },
  red_sulfur:        { label: 'Rotes Schwefel', icon: 'icon-sulfur', emoji: 'üü°' },
  coal:              { label: 'Kohle', icon: 'icon-coal', emoji: '‚¨õ' },
};

// =============================================
// STATE
// =============================================
let selectedWeapon = null;
let selectedAmmo = null;

// =============================================
// HELPER: resolve raw materials
// =============================================
function resolveRaw(recipe, qty) {
  // Returns a flat map of raw materials needed
  const raw = {};
  for (const [item, amount] of Object.entries(recipe)) {
    const needed = amount * qty;
    if (PART_RECIPES[item]) {
      // Recurse
      const sub = resolveRaw(PART_RECIPES[item], needed);
      for (const [r, a] of Object.entries(sub)) {
        raw[r] = (raw[r] || 0) + a;
      }
    } else {
      raw[item] = (raw[item] || 0) + needed;
    }
  }
  return raw;
}

function calcPrice(recipe, qty) {
  let total = 0;
  for (const [item, amount] of Object.entries(recipe)) {
    const price = PRICES[item] || 0;
    total += price * amount * qty;
  }
  return total;
}

function formatPrice(n) {
  return n.toLocaleString('de-DE');
}

function formatKPrice(n) {
  if (n >= 1000) {
    const k = n / 1000;
    const isInt = Number.isInteger(k);
    const value = isInt ? k.toString() : k.toFixed(1).replace('.', ',');
    return `${value}k`;
  }
  return n.toString();
}

// =============================================
// RENDER
// =============================================
function renderWeaponCards() {
  const grid = document.getElementById('weaponsGrid');
  grid.innerHTML = '';
  WEAPONS.forEach(w => {
    const card = document.createElement('div');
    card.className = 'weapon-card';
    card.dataset.id = w.id;
    card.onclick = () => selectWeapon(w.id);
    card.innerHTML = `
      <div class="corner corner-tl"></div>
      <div class="corner corner-tr"></div>
      <div class="corner corner-bl"></div>
      <div class="corner corner-br"></div>
      <div class="weapon-icon">
        <img src="${w.icon}.png" alt="${w.name}" onerror="this.style.display='none'; this.nextElementSibling.style.display='block'">
        <div style="display:none">${WEAPON_SVG[w.id] || ''}</div>
      </div>
      <div class="weapon-name">${w.name}</div>
      <span class="weapon-type-badge badge-${w.badge}">${w.badgeText}</span>
      <div class="price-tag"><div class="card-price">Preis: ${formatKPrice(w.unitPrice)}</div></div>
    `;
    grid.appendChild(card);
  });
}

function renderAmmoCards() {
  const grid = document.getElementById('ammoGrid');
  grid.innerHTML = '';
  AMMO.forEach(a => {
    const card = document.createElement('div');
    card.className = 'weapon-card';
    card.dataset.id = a.id;
    card.onclick = () => selectAmmo(a.id);
    card.innerHTML = `
      <div class="corner corner-tl"></div>
      <div class="corner corner-tr"></div>
      <div class="corner corner-bl"></div>
      <div class="corner corner-br"></div>
      <div class="weapon-icon">
        <img src="muntion.png" alt="${a.name}" style="width:100%; height:100%; object-fit:contain; filter: drop-shadow(0 0 8px var(--purple-glow));">
      </div>
      <div class="weapon-name">${a.name}</div>
      <span class="weapon-type-badge badge-ammo">Munition</span>
      <div class="price-tag"><div class="card-price">Preis: ${formatKPrice(a.unitPrice)}</div></div>
    `;
    grid.appendChild(card);
  });
}

function getItemDisplay(item) {
  return ITEM_DISPLAY[item] || { label: item, icon: 'icon-other', emoji: 'üì¶' };
}

function renderDirectMaterials(recipe, qty) {
  const container = document.getElementById('directMaterials');
  container.innerHTML = '';
  for (const [item, amount] of Object.entries(recipe)) {
    const total = amount * qty;
    const d = getItemDisplay(item);
    const div = document.createElement('div');
    div.className = 'resource-row';
    div.innerHTML = `
      <div class="resource-icon ${d.icon}">${d.emoji}</div>
      <div class="resource-info">
        <div class="resource-name">${d.label}</div>
        <div class="resource-amount">${total}√ó</div>
      </div>
    `;
    container.appendChild(div);
  }
}

function renderRawMaterials(recipe, qty) {
  const raw = resolveRaw(recipe, qty);
  const container = document.getElementById('rawMaterials');
  container.innerHTML = '';
  for (const [item, amount] of Object.entries(raw)) {
    const d = getItemDisplay(item);
    const pill = document.createElement('div');
    pill.className = 'raw-pill';
    pill.innerHTML = `<span>${d.emoji} ${d.label}</span><span class="pill-amount">${amount}√ó</span>`;
    container.appendChild(pill);
  }
}

function renderAmmoMaterials(recipe, qty) {
  const container = document.getElementById('ammoMaterials');
  container.innerHTML = '';
  for (const [item, amount] of Object.entries(recipe)) {
    const total = amount * qty;
    const d = getItemDisplay(item);
    const div = document.createElement('div');
    div.className = 'resource-row';
    div.innerHTML = `
      <div class="resource-icon ${d.icon}">${d.emoji}</div>
      <div class="resource-info">
        <div class="resource-name">${d.label}</div>
        <div class="resource-amount">${total}√ó</div>
      </div>
    `;
    container.appendChild(div);
  }
}

// =============================================
// SELECTION & CALC
// =============================================
function selectWeapon(id) {
  // Deselect ammo
  document.getElementById('ammoCalcPanel').classList.remove('active');
  document.querySelectorAll('#ammoGrid .weapon-card').forEach(c => c.classList.remove('selected'));
  selectedAmmo = null;

  const prev = selectedWeapon;
  selectedWeapon = WEAPONS.find(w => w.id === id);
  
  document.querySelectorAll('#weaponsGrid .weapon-card').forEach(c => c.classList.remove('selected'));
  const card = document.querySelector(`#weaponsGrid [data-id="${id}"]`);
  if (card) card.classList.add('selected');

  document.getElementById('calcPanel').classList.add('active');
  document.getElementById('selectedWeaponName').textContent = selectedWeapon.name;
  document.getElementById('qtyInput').value = 1;
  updateCalc();

  if (!prev || prev.id !== id) {
    document.getElementById('calcPanel').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  }
}

function updateCalc() {
  if (!selectedWeapon) return;
  const qty = parseInt(document.getElementById('qtyInput').value) || 1;
  renderDirectMaterials(selectedWeapon.recipe, qty);
  renderRawMaterials(selectedWeapon.recipe, qty);
  const unitP = selectedWeapon.unitPrice;
  const total = unitP * qty;
  document.getElementById('totalPrice').textContent = formatPrice(total);
  document.getElementById('unitPrice').textContent = formatPrice(unitP);
}

function changeQty(delta) {
  const inp = document.getElementById('qtyInput');
  inp.value = Math.max(1, (parseInt(inp.value) || 1) + delta);
  updateCalc();
}

function selectAmmo(id) {
  document.getElementById('calcPanel').classList.remove('active');
  document.querySelectorAll('#weaponsGrid .weapon-card').forEach(c => c.classList.remove('selected'));
  selectedWeapon = null;

  selectedAmmo = AMMO.find(a => a.id === id);
  document.querySelectorAll('#ammoGrid .weapon-card').forEach(c => c.classList.remove('selected'));
  const card = document.querySelector(`#ammoGrid [data-id="${id}"]`);
  if (card) card.classList.add('selected');

  document.getElementById('ammoCalcPanel').classList.add('active');
  document.getElementById('selectedAmmoName').textContent = selectedAmmo.name;
  document.getElementById('ammoQtyInput').value = 1;
  updateAmmoCalc();
  document.getElementById('ammoCalcPanel').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}

function updateAmmoCalc() {
  if (!selectedAmmo) return;
  const qty = parseInt(document.getElementById('ammoQtyInput').value) || 1;
  renderAmmoMaterials(selectedAmmo.recipe, qty);
  const unitP = selectedAmmo.unitPrice;
  document.getElementById('ammoTotalPrice').textContent = formatPrice(unitP * qty);
  document.getElementById('ammoUnitPrice').textContent = formatPrice(unitP);
}

function changeAmmoQty(delta) {
  const inp = document.getElementById('ammoQtyInput');
  inp.value = Math.max(1, (parseInt(inp.value) || 1) + delta);
  updateAmmoCalc();
}

// =============================================
// PARTICLES
// =============================================
function createParticles() {
  const container = document.getElementById('particles');
  for (let i = 0; i < 15; i++) {
    const p = document.createElement('div');
    p.className = 'particle';
    p.style.cssText = `
      left: ${Math.random()*100}%;
      animation-duration: ${6 + Math.random()*12}s;
      animation-delay: ${Math.random()*10}s;
      --drift: ${(Math.random()-0.5)*2};
      width: ${1+Math.random()*3}px;
      height: ${1+Math.random()*3}px;
      background: ${Math.random()>0.7 ? 'var(--accent)' : 'var(--purple-glow)'};
      opacity: 0.6;
    `;
    container.appendChild(p);
  }
}

// =============================================
// INIT
// =============================================
renderWeaponCards();
renderAmmoCards();
createParticles();

// Set background sound volume to 5%
const bgSound = document.getElementById('bgSound');
if (bgSound) {
  bgSound.volume = 0.05;
  // Firefox autoplay fix - play on first user interaction
  const startAudio = () => {
    bgSound.muted = false;
    bgSound.play().catch(e => console.log('Audio autoplay prevented'));
    document.removeEventListener('click', startAudio);
    document.removeEventListener('keydown', startAudio);
  };
  // Try autoplay first
  bgSound.play().catch(() => {
    // If autoplay fails, wait for user interaction
    document.addEventListener('click', startAudio);
    document.addEventListener('keydown', startAudio);
  });
}
</script>
</body>
</html>
